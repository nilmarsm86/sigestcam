<div
        class="col-4"
        {% if commutator is not null %}
            {{ attributes.defaults(stimulus_controller('connection-commutator-detail', { commutator: commutator.id })) }}
        {% else %}
            {{ attributes }}
        {% endif %}
>
    {% if commutator is not null %}
        <h4>Características del switch esclavo:</h4>
        <hr>
        <div class="card text-bg-info border-primary">
            <div class="card-header text-bg-info d-flex justify-content-between align-items-center">
                <p class="text-white m-0 fw-bold">Detalles:</p>
                <div class="row">
                    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
                        <!-- BOTON DE DESACTIVAR -->
                        <input
                                type="checkbox"
                                class="btn-check btn-primary"
                                id="switch{{ commutator.id }}"
                                autocomplete="off"
                                {% if active %}checked{% endif %}
                                {% if active %}
                                    data-action="change->connection-commutator-detail#deactivate"
                                {% else %}
                                    data-action="change->live#action"
                                    data-action-name="activate(entityId={{ commutator.id }})"
                                {% endif %}
                        >
                        <label class="btn btn-primary" for="switch{{ commutator.id }}" title="Estado">
                            <i class="fas {% if active %}fa-check-circle text-white{% else %}fa-circle text-white-50{% endif %} "></i>
                        </label>
                        <!-- BOTON DE DESACTIVAR -->
                        <a href="{{ path('commutator_edit', {'id': commutator.id}) }}" class="btn btn-primary" title="Editar switch">
                            <i class="fas fa-edit text-white"></i>
                        </a>
                    </div>

                </div>
            </div>

            {# no es necesario usar updateFromParent, en el data, pues se pasa el data-live-id y esto lleva a que el componente se construya completo #}
            {{ component('ConnectionDetailEditInline', {
                label: 'IP:',
                data: commutator.ip,
                id: commutator.id,
                setter: 'setIp',
                connection: connection,
                constraints: [
                    {'class': 'NotBlank', 'options': {message:'Establezca el IP del equipo.'}},
                    {'class': 'Ip', 'options': {message:'Establezca un IP válido.'}}
                ],
                'data-live-id': 'commutator-ip-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig'
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Puerta de enlace:',
                data: commutator.gateway,
                id: commutator.id,
                setter: 'setGateway',
                connection: connection,
                constraints: [
                    {'class': 'NotBlank', 'options': {message:'Establezca el IP gateway del equipo.'}},
                    {'class': 'Ip', 'options': {message:'Establezca un IP gateway válido.'}}
                ],
                'data-live-id': 'commutator-gateway-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig'
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Dirección multicast:',
                data: commutator.multicast,
                id: commutator.id,
                setter: 'setMulticast',
                connection: connection,
                'data-live-id': 'commutator-multicast-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig'
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Inventario:',
                data: commutator.inventary,
                id: commutator.id,
                setter: 'setInventory',
                connection: connection,
                'data-live-id': 'commutator-inventory-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Marca:',
                data: commutator.brand,
                id: commutator.id,
                setter: 'setBrand',
                connection: connection,
                'data-live-id': 'commutator-brand-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Modelo:',
                data: commutator.model,
                id: commutator.id,
                setter: 'setModel',
                connection: connection,
                'data-live-id': 'commutator-model-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Contic:',
                data: commutator.contic,
                id: commutator.id,
                setter: 'setContic',
                connection: connection,
                'data-live-id': 'commutator-contic-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Serie:',
                data: commutator.serial,
                id: commutator.id,
                setter: 'setPhysicalSerial',
                connection: connection,
                'data-live-id': 'commutator-serial-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Dirección física:',
                data: commutator.physical_address,
                id: commutator.id,
                setter: 'setPhysicalAddress',
                connection: connection,
                constraints: [
                    {'class': 'NotBlank', 'options': {message:'La dirección física no debe estar vacía.'}}
                ],
                'data-live-id': 'commutator-physical_address-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                textarea: true,
                refreshTable: false
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Municipio:',
                data: commutator.municipality,
                id: commutator.id,
                editable: false,
                connection: connection,
                'data-live-id': 'commutator-municipality-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig'
            }) }}

            {{ component('ConnectionDetailEditInline', {
                label: 'Provincia:',
                data: commutator.province,
                id: commutator.id,
                editable: false,
                connection: connection,
                'data-live-id': 'commutator-province-'~ commutator.id,
                entity: 'App\\Entity\\Commutator',
                template: 'components/live/connection_commutator/edit_inline.html.twig',
                last: true,
            }) }}
            <backdrop-component data-loading="addClass(d-block)" class="card-backdrop"></backdrop-component>
        </div>
    {% endif %}
</div>

